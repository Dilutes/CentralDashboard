<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h4>Reportes</h4>
                <form method="post" action="">
                    <div class="form-group row">
                        <button onclick="reportOption(0)" type="submit" class="form-control btn btn-success btn-block">Descargar Reporte Mensual COMGES</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


@*Modal*@
<div class="modal fade" id="modalFormulario" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Rellene los campos</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="opcionFomrulario" id="idFormAnio" style="display: none;">
                    Año
                    <div class="col-md-12">
                        <select class="form-control" id="formSelectAnio"></select>
                    </div>
                </div>
                <div class="opcionFomrulario" id="idFormAnioInput" style="display: none;">
                    Año
                    <div class="col-md-12">
                        <input type="number" max="9999" min="1000" id="formInputAnio" class="form-control">
                    </div>
                </div>
                <div class="opcionFomrulario" id="idFormMes" style="display: none;">
                    Mes
                    <div class="col-md-12">
                        <select class="form-control" id="formSelectMes"></select>
                    </div>
                </div>
                <div class="opcionFomrulario" id="idFormCheckBox1" style="display: none;">
                    Check
                    <div class="col-md-12" id="cbList">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnPrintRPT" onclick="imprimirRPT()" data-valor="">Imprimir</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    window.onload = function () {
        $('#modalFormulario').on('hidden.bs.modal', function () {
            $(this).find("input,textarea").val('').end();
            $(this).find("select").empty();
            $(this).find("select").off('change');
            $("#btnPrintRPT").attr("valor", '');
            $(this).find("#cbList").empty();
            $(this).find("div.opcionFomrulario").css("display", "none");
        });
    };

    function reportOption(item) {
        switch (item) {
            case 0:
                $("#idFormAnio").css("display", "block");
                $("#idFormMes").css("display", "block");
                $("#btnPrintRPT").data("valor", item);
                
                break;
            case 1:
                $("#idFormAnio").css("display", "block");
                $("#idFormMes").css("display", "block");
                $("#btnPrintRPT").data("valor", item);
                
                break;
            case 2:
                $("#idFormAnioInput").css("display", "block");
                $("#idFormCheckBox1").css("display", "block");
                addCheckbox("Insumo", "Insumo", true, "cbList");
                $("#btnPrintRPT").data("valor", item);
                break;
        }
        $('#modalFormulario').modal('show');
    }

    function imprimirRPT() {
        var tipoRPT = $("#btnPrintRPT").data("valor");
        switch (tipoRPT) {
            case 0:
                getFuenteREMA08($("#formSelectMes option:selected").val(), $("#formSelectAnio option:selected").val());
                break;
            case 1:
                getREMA08($("#formSelectMes option:selected").val(), $("#formSelectAnio option:selected").val());
                break;
            case 2:
                if ($("#formInputAnio").val() != '') {
                    getCemCenabast($("#formInputAnio").val(), $("#cbInsumo:checked").val());
                } else {
                    alert("Año invalido");
                }
                break;
        }
    };

   
</script>
